(this.webpackJsonppage=this.webpackJsonppage||[]).push([[0],{45:function(e,t,a){e.exports=a(83)},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t),a.d(t,"startSimulation",(function(){return W})),a.d(t,"pauseSimulation",(function(){return D})),a.d(t,"resumeSimulation",(function(){return H}));var n,r=a(1),i=a.n(r),c=a(40),u=a.n(c),o=a(42),l=a(2),s=(a(50),a(51),a(25)),m=a.n(s);function d(e,t,a){return function(n){e.send(t,a,n)}}!function(e){e[e.Orbit=0]="Orbit",e[e.Top=1]="Top",e[e.Side=2]="Side"}(n||(n={}));var f,h=function(){var e=Object(r.useContext)(L),t=e.originalHeight,a=e.flightProperties.last().canSatPosition,c=Object(r.useMemo)((function(){return new s.UnityContent("unity/Build/unity.json","unity/Build/UnityLoader.js")}),[]);c.on("sceneLoaded",(function(){return console.log("jdbbskf")}));var u=Object(r.useCallback)(d(c,"Main Camera","setMode"),[c]),o=Object(r.useCallback)(d(c,"Main Camera","setOriginalHeight"),[c]),l=Object(r.useCallback)(d(c,"Sphere","moveCanSat"),[c]);return Object(r.useEffect)((function(){return o(t+1)}),[t]),Object(r.useEffect)((function(){return l(JSON.stringify(a))}),[a]),i.a.createElement("div",{className:"UnityVisualiser"},i.a.createElement("div",{id:"onCanvas"},i.a.createElement("button",{onClick:function(){return u(n.Orbit)}}," Orbit "),i.a.createElement("button",{onClick:function(){return u(n.Side)}}," Side "),i.a.createElement("button",{onClick:function(){return u(n.Top)}}," Top ")),i.a.createElement(m.a,{unityContent:c,className:"viewport"}))},p=(a(55),a(3)),v=a.n(p),b=a(7),g=(a(57),function(e){var t=e.switchHeight,a=e.ballHeight,n=e.onChange,c=e.animationDuration,u=e.checkedColor,o=e.defaultChecked,l=Object(r.useMemo)((function(){return"Switch-".concat(Math.random().toString(36).substr(2,9))}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("style",null,"#".concat(l," {\n                    --switch-height: ").concat(t,";\n                    --ball-height: ").concat(a,";\n                    --ball-gap: calc( (var(--switch-height) - var(--ball-height)) / 2);\n                    --animation-duration: ").concat(c,";\n                    --checked-color: ").concat(u,"\n                }")),i.a.createElement("input",{className:"Switch",type:"checkbox",id:l,onChange:n,defaultChecked:o}))}),S=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},E=function(){var e=Object(b.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://climacell-microweather-v1.p.rapidapi.com/weather/realtime?unit_system=si&fields=wind_speed,wind_direction,baro_pressure&lat=".concat(t,"&lon=").concat(a),{method:"GET",headers:{"x-rapidapi-host":"climacell-microweather-v1.p.rapidapi.com","x-rapidapi-key":"2d1f8c67f6msh9352c048b60f48ap1bd0b5jsn06b13115e239"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),O=(a(58),function(e){var t=e.data;return i.a.createElement("table",{className:"Table"},t.map((function(e,t){var a=e.rowName,n=e.value,r=e.renderCondition,c=e.unit;if(void 0===r||!0===r)return i.a.createElement("tbody",{key:t},i.a.createElement("tr",null,i.a.createElement("th",null," ",a," "),i.a.createElement("th",null," ",n,c," ")))})))}),w=function(e){var t=e.onChange;return i.a.createElement(g,{switchHeight:"15px",ballHeight:"12px",animationDuration:"0.25s",checkedColor:"#fab132",onChange:t,defaultChecked:!0})},C=function(e){var t=e.setMode,a=Object(r.useContext)(L),n=a.originalHeight,c=a.setOriginalHeight,u=a.automaticLocalisation,o=a.setAutomaticLocalisation,l=a.automaticWind,s=a.setAutomaticWind,m=a.originalLongitude,d=a.setOriginalLongitude,h=a.originalLatitude,p=a.setOriginalLatitude,g=a.windSpeed,C=a.setWindSpeed,j=a.windAzimuth,y=a.setWindAzimuth,x=a.canSatMass,k=a.setCanSatMass,P=a.airCS,N=a.setAirCS,F=a.canSatSurfaceArea,A=a.setCanSatSurfaceArea,z=a.setIsPaused,M=function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u){e.next=8;break}return e.next=4,S();case 4:t=e.sent,a=t.coords,n=a.latitude,r=a.longitude,p(n),d(r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){M()}),[]);var D=function(){var e=Object(b.a)(v.a.mark((function e(){var a,n,r,i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u){e.next=8;break}return e.next=4,S();case 4:a=e.sent,n=a.coords,r=n.latitude,i=n.longitude,p(r),d(i);case 8:return e.next=10,E(h,m);case 10:c=e.sent,l&&C(c.wind_speed.value),l&&y(c.wind_direction.value),z(!1),W(),t(f.WatchData),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),H=[{rowName:"Original height",value:i.a.createElement("input",{type:"number",value:n,onChange:function(e){return c(parseFloat(e.target.value))}}),unit:"m"},{rowName:"CanSat mass",value:i.a.createElement("input",{type:"number",value:x,onChange:function(e){return k(parseFloat(e.target.value))},step:"0.01"}),unit:"kg"},{rowName:"Satellite side surface",value:i.a.createElement("input",{type:"number",value:F,onChange:function(e){return A(parseFloat(e.target.value))},step:"0.01"}),unit:i.a.createElement(i.a.Fragment,null,"m",i.a.createElement("sup",null,"2"))},{rowName:i.a.createElement(i.a.Fragment,null,"C * S parameter of air",i.a.createElement("a",{href:"https://cnx.org/contents/TqqPA4io@2.43:olSre6jy@4/6-4-Si%C5%82a-oporu-i-pr%C4%99dko%C5%9B%C4%87-graniczna",target:"_blank",rel:"noopener noreferrer"}," ? ")),value:i.a.createElement("input",{type:"number",value:P,onChange:function(e){return N(parseFloat(e.target.value))},step:"0.01"})},{rowName:"Automatic localisation",value:i.a.createElement(w,{onChange:function(e){o(e.target.checked),M()}})},{rowName:"Latitude",value:i.a.createElement("input",{type:"number",value:h,onChange:function(e){return p(parseFloat(e.target.value))}}),renderCondition:!u},{rowName:"Longitude",value:i.a.createElement("input",{type:"number",value:m,onChange:function(e){return d(parseFloat(e.target.value))}}),renderCondition:!u},{rowName:"Automatyczny wiatr",value:i.a.createElement(w,{onChange:function(e){return s(e.target.checked)}})},{rowName:"Wind speed",value:i.a.createElement("input",{type:"number",value:g,onChange:function(e){return C(parseFloat(e.target.value))}}),unit:"m/s",renderCondition:!l},{rowName:"Wind azimuth",value:i.a.createElement("input",{type:"number",value:j,onChange:function(e){return y(parseFloat(e.target.value))}}),unit:i.a.createElement(i.a.Fragment,null," \xb0 "),renderCondition:!l}];return i.a.createElement("div",{className:"SetData"},i.a.createElement(O,{data:H}),i.a.createElement("button",{onClick:D},"Start"))},j=function(e){var t=e.setMode,a=Object(r.useContext)(L),n=a.isPaused,c=a.windAzimuth,u=a.windSpeed,o=a.originalLatitude,l=a.originalLongitude,s=a.flightProperties,m=a.setFlightProperties,d=s.last(),h=d.canSatPosition,p=d.velocity,g=d.pressure,S=d.time,E=Object(r.useMemo)((function(){return 360/(2*Math.PI*6371e3)}),[]),w=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:m(P.reset),t(f.SetData);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=l+h.x*E,j=o+h.z*E,y=[{rowName:"Position x",value:h.x.toFixed(2)},{rowName:"Position z",value:h.z.toFixed(2)},{rowName:"Longitude",value:C.toFixed(5)},{rowName:"Latitude",value:j.toFixed(5)},{rowName:"Falling velocity",value:(-1*p.y).toFixed(1),unit:"m/s"},{rowName:"Height",value:h.y.toFixed(1),unit:"m"},{rowName:"Pressure",value:g.toFixed(1),unit:"hPa"},{rowName:"Wind speed",value:u,unit:"m/s"},{rowName:"Wind azimuth",value:c,unit:i.a.createElement(i.a.Fragment,null," \xb0 ")},{rowName:"Time",value:S.toFixed(1),unit:"s"}];return i.a.createElement("div",{className:"WatchData"},0!==h.y&&(n?i.a.createElement("button",{onClick:function(){return H()}},"Resume"):i.a.createElement("button",{onClick:function(){return D()}},"Pause")),(0===h.y||n)&&i.a.createElement("button",null,"Save"),i.a.createElement("button",{onClick:w},"Cancel"),i.a.createElement("br",null),i.a.createElement(O,{data:y}))};!function(e){e[e.SetData=0]="SetData",e[e.WatchData=1]="WatchData"}(f||(f={}));var y,x=function(){var e,t=Object(r.useState)(f.SetData),a=Object(l.a)(t,2),n=a[0],c=a[1];switch(n){case f.SetData:e=i.a.createElement(C,{setMode:c});break;case f.WatchData:e=i.a.createElement(j,{setMode:c});break;default:e=i.a.createElement("h1",null," MainComponent error ")}return i.a.createElement("div",{className:"MainComponent"},e)},k=(a(59),a(8));!function(e){e.canSatPositionX="Position x",e.canSatPositionY="Position y",e.canSatPositionZ="Position z",e.velocityX="Velocity x",e.velocityY="Velocity y",e.velocityZ="Velocity z",e.pressure="Preassure",e.time="Time"}(y||(y={}));var P,N=function(e,t){switch(t){case y.canSatPositionX:return e.canSatPosition.x;case y.canSatPositionY:return e.canSatPosition.y;case y.canSatPositionZ:return e.canSatPosition.z;case y.velocityX:return e.velocity.x;case y.velocityY:return-1*e.velocity.y;case y.velocityZ:return e.velocity.z;case y.pressure:return e.pressure;case y.time:return e.time;default:return 0}},F=function(e){var t=e.onChange,a=e.value;return i.a.createElement("select",{onChange:function(e){return t(e.target.value)},value:a},Object.keys(y).map((function(e){var t=y[e];return i.a.createElement("option",{value:t}," ",t," ")})))},A=function(){var e=Object(r.useContext)(L).flightProperties,t=Object(r.useState)({width:0,height:0}),a=Object(l.a)(t,2),n=a[0],c=a[1],u=Object(r.useRef)(),o=function(){if(void 0!==u.current){var e=u.current.getBoundingClientRect(),t=e.width,a=e.height;c({width:t,height:a})}};Object(r.useEffect)((function(){return o(),window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[]);var s=Object(r.useState)(y.time),m=Object(l.a)(s,2),d=m[0],f=m[1],h=Object(r.useState)(y.velocityY),p=Object(l.a)(h,2),v=p[0],b=p[1],g=e.map((function(e){return{x:N(e,d),y:N(e,v)}})),S=n.width,E=n.height;return i.a.createElement("div",{className:"Graph",ref:u},i.a.createElement(k.e,{width:S,height:E,stroke:"#fab132"},i.a.createElement(k.a,null),i.a.createElement(k.c,null),i.a.createElement(k.b,{data:g}),i.a.createElement(k.d,null),i.a.createElement(k.f,null)),"Axis x:",i.a.createElement(F,{value:d,onChange:f}),i.a.createElement("br",null),"Axis y:",i.a.createElement(F,{value:v,onChange:b}))};!function(e){e.reset="RESET"}(P||(P={}));var L=Object(r.createContext)(void 0),z=function(){var e=Object(r.useState)(1e3),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),u=Object(l.a)(c,2),s=u[0],m=u[1],d=Object(r.useState)(!0),f=Object(l.a)(d,2),p=f[0],v=f[1],b=Object(r.useState)(0),g=Object(l.a)(b,2),S=g[0],E=g[1],O=Object(r.useState)(0),w=Object(l.a)(O,2),C=w[0],j=w[1],y=Object(r.useState)(!0),k=Object(l.a)(y,2),N=k[0],F=k[1],z=Object(r.useState)(!0),M=Object(l.a)(z,2),W=M[0],D=M[1],H=Object(r.useState)(0),T=Object(l.a)(H,2),_=T[0],B=T[1],R=Object(r.useState)(0),V=Object(l.a)(R,2),Y=V[0],I=V[1],X=Object(r.useState)(.3),Z=Object(l.a)(X,2),J=Z[0],U=Z[1],q=Object(r.useState)(.3),G=Object(l.a)(q,2),K=G[0],Q=G[1],$=Object(r.useState)(.00759),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=function(){return{canSatPosition:{x:0,y:a,z:0},velocity:{x:0,y:0,z:0},pressure:0,time:0}},re=Object(r.useReducer)((function(e,t){return t===P.reset?[ne()]:[].concat(Object(o.a)(e),[t])}),[ne()]),ie=Object(l.a)(re,2),ce=ie[0],ue=ie[1];Object(r.useEffect)((function(){return ue(P.reset)}),[a]);var oe={isPaused:s,setIsPaused:m,originalHeight:a,setOriginalHeight:n,automaticLocalisation:p,setAutomaticLocalisation:v,automaticWind:N,setAutomaticWind:F,automaticPressure:W,setAutomaticPressure:D,originalLongitude:S,setOriginalLongitude:E,originalLatitude:C,setOriginalLatitude:j,windSpeed:_,setWindSpeed:B,windAzimuth:Y,setWindAzimuth:I,canSatMass:J,setCanSatMass:U,airCS:K,setAirCS:Q,canSatSurfaceArea:te,setCanSatSurfaceArea:ae,flightProperties:ce,setFlightProperties:ue};return window.contextValues=oe,i.a.createElement("div",{className:"App"},i.a.createElement(L.Provider,{value:oe},i.a.createElement(h,null),i.a.createElement(A,null),i.a.createElement(x,null)))};Array.prototype.last=function(){return this[this.length-1]},u.a.render(i.a.createElement(i.a.StrictMode,null," ",i.a.createElement(z,null)," "),document.getElementById("root"));var M=window,W=M.startSimulation,D=M.pauseSimulation,H=M.resumeSimulation}},[[45,1,2]]]);
//# sourceMappingURL=main.55c4dcba.chunk.js.map